jQuery(document).ready(function(c){"use strict";if("undefined"!=typeof astra){var i,n=c(document).find(".ast-quick-view-bg"),r=c(document).find("#ast-quick-view-modal"),d=r.find("#ast-quick-view-content"),e=r.find("#ast-quick-view-close"),t=r.find(".ast-content-main-wrapper"),u=(t.width(),t.height(),function(){var i=c(document).find("#ast-quick-view-content"),t=(i.find(".product .ast-qv-image-slider").first().height(),i.find(".product .summary.entry-summary")),e=t.css("content"),a=i.find(".summary-content").height();void 0!==e&&544==e.replace(/[^0-9]/g,"")&&0!=a&&null!==a?t.css("height",a):t.css("height","")}),s=function(i,t){c.ajax({url:astra.ajax_url,data:{action:"ast_load_product_quick_view",product_id:t},dataType:"html",type:"POST",success:function(i){d.html(i),a()}})},a=function(){var i=d.find(".variations_form");if(i.trigger("check_variations"),i.trigger("reset_image"),!r.hasClass("open")){r.removeClass("loading").addClass("open");var t=r.find("#ast-quick-view-content").outerHeight(),e=c(window).height(),a=l(),n=c("html");e<t?n.css("margin-right",a):(n.css("margin-right",""),n.find(".ast-sticky-active, .ast-header-sticky-active, .ast-custom-footer").css("max-width","100%")),n.addClass("ast-quick-view-is-open")}var s=r.find(".variations_form");0<s.length&&(s.wc_variation_form(),s.find("select").change());var o=r.find(".ast-qv-image-slider");1<o.find("li").length&&o.flexslider({animation:"slide"}),setTimeout(function(){u()},100),c(document).trigger("ast_quick_view_loader_stop")},l=function(){var i=c('<div style="width:50px;height:50px;overflow:hidden;position:absolute;top:-200px;left:-200px;"><div style="height:100px;"></div>');c("body").append(i);var t=c("div",i).innerWidth();i.css("overflow-y","scroll");var e=c("div",i).innerWidth();return c(i).remove(),t-e};window.addEventListener("resize",function(i){u()}),0<(i=c(".ast-qv-on-image-click .astra-shop-thumbnail-wrap .woocommerce-LoopProduct-link")).length&&i.each(function(i){c(this).attr("href","javascript:void(0)")}),c(document).off("click",".ast-quick-view-button, .ast-quick-view-text, .ast-qv-on-image-click .astra-shop-thumbnail-wrap .woocommerce-LoopProduct-link").on("click",".ast-quick-view-button, .ast-quick-view-text, .ast-qv-on-image-click .astra-shop-thumbnail-wrap .woocommerce-LoopProduct-link",function(i){i.preventDefault();var t=c(this),e=t.closest("li.product");if(e.hasClass("ast-qv-on-image-click"))var a=e.find(".ast-quick-view-data").data("product_id");else a=t.data("product_id");r.hasClass("loading")||r.addClass("loading"),n.hasClass("ast-quick-view-bg-ready")||n.addClass("ast-quick-view-bg-ready"),c(document).trigger("ast_quick_view_loading"),s(t,a)}),function(){c(".ast-content-main-wrapper").on("click",function(i){this===i.target&&t()}),c(document).keyup(function(i){27===i.keyCode&&t()}),e.on("click",function(i){i.preventDefault(),t()});var t=function(){n.removeClass("ast-quick-view-bg-ready"),r.removeClass("open").removeClass("loading"),c("html").removeClass("ast-quick-view-is-open"),c("html").css("margin-right",""),setTimeout(function(){d.html("")},600)}}(),u()}});